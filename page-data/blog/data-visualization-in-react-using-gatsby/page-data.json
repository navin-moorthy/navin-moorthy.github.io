{"componentChunkName":"component---src-blog-components-blog-post-template-jsx","path":"/blog/data-visualization-in-react-using-gatsby/","webpackCompilationHash":"11a29f75f7f2e09aedd2","result":{"data":{"markdownRemark":{"id":"6aff069c-092f-527f-b8fc-769acf151cd5","excerpt":"How can you create data visualization that works well in progressive web apps? On this episode, Swizec Teller (https://twitter.com/Swizec) joins to teach us how…","html":"\n          <div\n            class=\"gatsby-resp-iframe-wrapper\"\n            style=\"padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem\"\n          >\n            <iframe src=\"https://www.youtube.com/embed/Bdeu-BFisJU\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen style=\"\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n          \"></iframe>\n          </div>\n          \n<p>How can you create data visualization that works well in progressive web apps? On this episode, Swizec Teller (<a href=\"https://twitter.com/Swizec\" target=\"_blank\" rel=\"noopener\">https://twitter.com/Swizec</a>) joins to teach us how to use D3, React, and Gatsby to create SSR-friendly data visualizations for high performance dataviz.</p>\n<ul>\n<li>demo: <a href=\"https://react-gatsby-dataviz.netlify.com/\" target=\"_blank\" rel=\"noopener\">https://react-gatsby-dataviz.netlify.com/</a></li>\n<li>repo: <a href=\"https://github.com/jlengstorf/react-dataviz\" target=\"_blank\" rel=\"noopener\">https://github.com/jlengstorf/react-dataviz</a></li>\n</ul>\n<p>Links:</p>\n<ul>\n<li><a href=\"https://d3js.org/\" target=\"_blank\" rel=\"noopener\">https://d3js.org/</a></li>\n<li><a href=\"https://github.com/Swizec/d3blackbox\" target=\"_blank\" rel=\"noopener\">https://github.com/Swizec/d3blackbox</a></li>\n<li><a href=\"https://swizec.com/\" target=\"_blank\" rel=\"noopener\">https://swizec.com/</a></li>\n<li><a href=\"https://reactfordataviz.com\" target=\"_blank\" rel=\"noopener\">https://reactfordataviz.com</a></li>\n</ul>\n<p>Twitter - <a href=\"https://twitter.com/jlengstorf\" target=\"_blank\" rel=\"noopener\">Jason Lengstorf</a> &#x26; <a href=\"https://twitter.com/Swizec\" target=\"_blank\" rel=\"noopener\">Swizec Teller</a></p>\n<p>Youtube Link - <a href=\"https://www.youtube.com/watch?v=Bdeu-BFisJU\" target=\"_blank\" rel=\"noopener\">Data Visualization in React Using Gatsby (with Swizec Teller) — Learn With Jason)</a></p>\n<h2 id=\"notes\"><a href=\"#notes\" aria-label=\"notes permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Notes</h2>\n<p>New Gatsby site - <code class=\"language-text\">gatsby new . gatsbyjs/gatsby-starter-hello-world</code></p>\n<p>Run a development serve - <code class=\"language-text\">npm run develop</code></p>\n<p>Build the site to ‘public’ folder - <code class=\"language-text\">npm run build</code></p>\n<p>Serve the files from ‘public folder’ - <code class=\"language-text\">npm run serve</code></p>\n<p><code class=\"language-text\">yarn add d3</code></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> <span class=\"token constant\">D3</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"d3\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getRandomData</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token constant\">D3</span><span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">:</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token function\">getRandomData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> xScale <span class=\"token operator\">=</span> <span class=\"token constant\">D3</span><span class=\"token punctuation\">.</span><span class=\"token function\">scaleLinear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">domain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">400</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> yScale <span class=\"token operator\">=</span> <span class=\"token constant\">D3</span><span class=\"token punctuation\">.</span><span class=\"token function\">scaleLinear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">domain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">400</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>svg width<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">400</span><span class=\"token punctuation\">}</span> height<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">400</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>circle cx<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">xScale</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> cy<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">yScale</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> id<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>d<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">}</span> r<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">10</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>svg<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABxUlEQVQ4y4VUu6oCQQzdn/KPBO0Eq+3ETrCzURAbC/FVWFgLVpa+Fh8ggqggiKD4RNRzyUg0MzvrDezO7JCcTc5Jxnm9Xng8HiDrdruIx+NqT+f02IzPaX0+n9q3I4PO5zOWy+W/gBKUjEDpIXPolc1m0Wg0rM68l0F8tt/v4bquBqwAp9PpJzMZJMFkEJ9fr1d0Oh20223M5/N3hrZsJCCD9ft9eJ6ngbJ/Pp9XoJ+STWLlyoJVq1XU63XtTArK5uCHmcTbVOZ9JpPBYDB4lyy5MluCLJlMIhQKYTQaqdJNscharRZWq9U3QxuXXE4ul0M0GsV4PEYqlfL9UCtZZkikHw4Hax9eLhctkH82m83QbDa/bSMDE4kEhsOhr31M5aURBYVCQe9D08mmuMn1er3G/X73xThBQTYlZUNHIhFst1v1fbvd9FkOCrYNP6+UnTlBgX1ouxRMULZer4dSqaRzaCOdyiIl0+k0JpOJr7lZZeKyVqv5ARmMHanfyJEy2Gw2Vp53ux0qlYo2FIEZHo9HdT/+GjcShUaORdE4lNycTiettF/Ks5XLZRSLRTtgOBxWg27Ot/QjlWOxGBaLBfhOJa7/AHZjAjj2j15tAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Initial Render\"\n        title=\"Initial Render\"\n        src=\"/static/cc18b91b42757685b723e395d82a55d6/7c2ef/2.png\"\n        srcset=\"/static/cc18b91b42757685b723e395d82a55d6/942f4/2.png 192w,\n/static/cc18b91b42757685b723e395d82a55d6/a7675/2.png 384w,\n/static/cc18b91b42757685b723e395d82a55d6/7c2ef/2.png 400w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><code class=\"language-text\">yarn add d3blackbox</code></p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> <span class=\"token constant\">D3</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"d3\"</span><span class=\"token punctuation\">;</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useD3 <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"d3blackbox\"</span><span class=\"token punctuation\">;</span></span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getRandomData</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token constant\">D3</span><span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">:</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Axis</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> scale<span class=\"token punctuation\">,</span> axisType <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> fnName <span class=\"token operator\">=</span> axisType <span class=\"token operator\">===</span> <span class=\"token string\">\"left\"</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"axisLeft\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"axisBottom\"</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> ref <span class=\"token operator\">=</span> <span class=\"token function\">useD3</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">el</span> <span class=\"token operator\">=></span> <span class=\"token constant\">D3</span><span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token constant\">D3</span><span class=\"token punctuation\">[</span>fnName<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>scale<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\"></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>g transform<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">translate(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">,</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span> ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>ref<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token function\">getRandomData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> width <span class=\"token operator\">=</span> <span class=\"token number\">400</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> height <span class=\"token operator\">=</span> <span class=\"token number\">400</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> xScale <span class=\"token operator\">=</span> <span class=\"token constant\">D3</span><span class=\"token punctuation\">.</span><span class=\"token function\">scaleLinear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">domain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">45</span><span class=\"token punctuation\">,</span> width <span class=\"token operator\">-</span> <span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> yScale <span class=\"token operator\">=</span> <span class=\"token constant\">D3</span><span class=\"token punctuation\">.</span><span class=\"token function\">scaleLinear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">domain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>height <span class=\"token operator\">-</span> <span class=\"token number\">45</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>svg width<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>width<span class=\"token punctuation\">}</span> height<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>height<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span><span class=\"token comment\">/* create a scatterplot of actual data */</span><span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>circle cx<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">xScale</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> cy<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">yScale</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> id<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>d<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">}</span> r<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">5</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span>Axis x<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">40</span><span class=\"token punctuation\">}</span> y<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">}</span> scale<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>yScale<span class=\"token punctuation\">}</span> axisType<span class=\"token operator\">=</span><span class=\"token string\">\"left\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Axis x<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">}</span> y<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>height <span class=\"token operator\">-</span> <span class=\"token number\">40</span><span class=\"token punctuation\">}</span> scale<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>xScale<span class=\"token punctuation\">}</span> axisType<span class=\"token operator\">=</span><span class=\"token string\">\"bottom\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>svg<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABzElEQVQ4y41Ui66CMAzl/3/KbzAmatSYaFTeiPJQYVh3hiN1lNzbhDDo2p72tPU61VKe36iqKvJ9n5bLJWVZRm3b0vv9Ji7r9droINBZPT97Sil6Pp8UBAGtVit6vV50OBzMG7Lb7agsS3PGXe6Ev6HbbDa9w/zWI3QliiKDGmi5WETW2fF4pDAMaT6fk9e2DV2vVyqKYrjcdZ05c6SuE36O49gAquuaPBjjUBSlmIr0DzbSPVNDpHO/36n41kkydJFJgexjEAIunG63W2qaZmR4Op3ofD4P35woHqxHqB1kWV/DmyYHJFlB/UAKDGwgSJqmA1GjlOGg1Ah5RG4IdC67Nlie5yMbr9MOTQ0ZyxCUAY0MAXLe0BB0xn6/H2rNSNFtoyMVEzWxfTabzUYMiynjwuPx+HEo9Z3EsEX2S4qAUJrVKUSuGIQgxa3hX86nAn5HT67hf1AKNVS6hvWoUaVa8v9oJywPcVLgzKbsbpUpwX2026iGAyl6OaDJMQGYCjhbLBbGyE4KdHbxog+xjCFWp1RHHpR1XVGo4SOFNE3Iv1wo0VOC9YV/2HX9OzAzneomDwJfP6HRBXo8I73CkiQmT0zPSVUiSdZ39AFSGR99q6iqNwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Axis for the dataViz\"\n        title=\"Axis for the dataViz\"\n        src=\"/static/e18103a67465fb502fb3bdadfeb3e554/7c2ef/3.png\"\n        srcset=\"/static/e18103a67465fb502fb3bdadfeb3e554/942f4/3.png 192w,\n/static/e18103a67465fb502fb3bdadfeb3e554/a7675/3.png 384w,\n/static/e18103a67465fb502fb3bdadfeb3e554/7c2ef/3.png 400w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> <span class=\"token constant\">D3</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"d3\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useD3 <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"d3blackbox\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getRandomData</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token constant\">D3</span><span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">:</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Axis</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> scale<span class=\"token punctuation\">,</span> axisType<span class=\"token punctuation\">,</span> ticks <span class=\"token operator\">=</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> fnName <span class=\"token operator\">=</span> axisType <span class=\"token operator\">===</span> <span class=\"token string\">\"left\"</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"axisLeft\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"axisBottom\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> ref <span class=\"token operator\">=</span> <span class=\"token function\">useD3</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">el</span> <span class=\"token operator\">=></span> <span class=\"token constant\">D3</span><span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token constant\">D3</span><span class=\"token punctuation\">[</span>fnName<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>scale<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ticks</span><span class=\"token punctuation\">(</span>ticks<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>g transform<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">translate(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">,</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span> ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>ref<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Datapoint</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> cx<span class=\"token punctuation\">,</span> cy<span class=\"token punctuation\">,</span> r<span class=\"token punctuation\">,</span> index <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token function\">getRandomData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> height <span class=\"token operator\">=</span> r<span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> width <span class=\"token operator\">=</span> r<span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> xScale <span class=\"token operator\">=</span> <span class=\"token constant\">D3</span><span class=\"token punctuation\">.</span><span class=\"token function\">scaleLinear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">.</span><span class=\"token function\">domain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> yScale <span class=\"token operator\">=</span> <span class=\"token constant\">D3</span><span class=\"token punctuation\">.</span><span class=\"token function\">scaleLinear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">.</span><span class=\"token function\">domain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>height<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\"></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token operator\">&lt;</span>g transform<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">translate(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cx<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cy<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">) rotate(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>degrees<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">{</span><span class=\"token comment\">/* create a scatterplot of actual data */</span><span class=\"token punctuation\">}</span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span></span><span class=\"gatsby-highlight-code-line\">        <span class=\"token operator\">&lt;</span>circle cx<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">xScale</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> cy<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">yScale</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span> r<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span>Axis x<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">}</span> y<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">}</span> scale<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>yScale<span class=\"token punctuation\">}</span> axisType<span class=\"token operator\">=</span><span class=\"token string\">\"left\"</span> ticks<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">2</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span>Axis x<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">}</span> y<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>height<span class=\"token punctuation\">}</span> scale<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>xScale<span class=\"token punctuation\">}</span> axisType<span class=\"token operator\">=</span><span class=\"token string\">\"bottom\"</span> ticks<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">2</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>g<span class=\"token operator\">></span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token function\">getRandomData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> width <span class=\"token operator\">=</span> <span class=\"token number\">400</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> height <span class=\"token operator\">=</span> <span class=\"token number\">400</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> xScale <span class=\"token operator\">=</span> <span class=\"token constant\">D3</span><span class=\"token punctuation\">.</span><span class=\"token function\">scaleLinear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">domain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">45</span><span class=\"token punctuation\">,</span> width <span class=\"token operator\">-</span> <span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> yScale <span class=\"token operator\">=</span> <span class=\"token constant\">D3</span><span class=\"token punctuation\">.</span><span class=\"token function\">scaleLinear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">domain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>height <span class=\"token operator\">-</span> <span class=\"token number\">45</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>svg width<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>width<span class=\"token punctuation\">}</span> height<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>height<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span><span class=\"token comment\">/* create a scatterplot of actual data */</span><span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>Datapoint\n          cx<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">xScale</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n          cy<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">yScale</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n          key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span>\n          r<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">40</span><span class=\"token punctuation\">}</span>\n          index<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span>Axis x<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">40</span><span class=\"token punctuation\">}</span> y<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">}</span> scale<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>yScale<span class=\"token punctuation\">}</span> axisType<span class=\"token operator\">=</span><span class=\"token string\">\"left\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Axis x<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">}</span> y<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>height <span class=\"token operator\">-</span> <span class=\"token number\">40</span><span class=\"token punctuation\">}</span> scale<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>xScale<span class=\"token punctuation\">}</span> axisType<span class=\"token operator\">=</span><span class=\"token string\">\"bottom\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>svg<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACmElEQVQ4y21UaZOaUBDk//+Vzdfsh70Sk92UVlbXUtYrlq7igQieyI2T6UEUkVf1SpB5PT3dM0+Jo4jWmw05jkNYx+NRdvqc/F6esXzPo5DPZWPSpUT84XA40H6/vwLMgma367qkLxa03W5vCJwBt9vdFWC68tlBVdMmNJvNJD4MwxtQJQwDWq/XNJ/PhWlR2Ui6Y4A4jmm1WtFoPBaGeXZ4FoYA63Q6ZFnWTVb8p2kazTjGtm35tmbQtCIsnPFYV2EYxxH1ej3q9/sUZT4AbMNmjZlNp9slXdfFuChnBsBQoWEYUoGCD8j2+dkSgGww2A2HQwbVpEwYkpcEZwYcs9vtyPd9Unzfo8l0yiz/McDqChCMkRnsoNmC3c1KguVxElVVBePkcij6jUYjyZD2I9gYy6VIgJLMpSnugkm60MN4r1arVC5XEsDjMRbRoSNcjqJYgGEUmCFRlzVEBZvTAFxYxlR9/0vPzy/n89I26EMAuG5iCISfTCYCVCqVqNlsCkNoGQQJWHwqufWp0t3dNxoMBpJMgTMoL22Js34sRb1ep/dqjb6+RsLO44R5l1G22mjQB8eCcdLYHLzPAKbBwal0ZIc5adKi1kk7RBjauVnOM4W7METX51K6aZqFcyyTkoxeAcNMsMGAANWZLQZgye7DuKLLRCbFdZ0rDfNBqAJg7Xab3t7+CEOUmWcnDKVkBsvOZn4h4UetRr9+v5LKjmN6UjC0iuf5l+vrbMreFrGROdmBvNucCMxefvyk7/f3MhVgGwTJLQVw9CvOIF5m2XEOtGAX4aRlmTRnA0zTEoeNhU4Pjw/Sj5VKmR6fnmjKYwZdG9wu2Jo2Jo371rKWpBRepjmnbZsvj1ZLLguUGJ/LtcX9VH/I9x/X2AHApviABQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"scatterplot of scatterplots\"\n        title=\"scatterplot of scatterplots\"\n        src=\"/static/74b7c358a8ba07f2cbb9d537afaa7be0/7c2ef/4.png\"\n        srcset=\"/static/74b7c358a8ba07f2cbb9d537afaa7be0/942f4/4.png 192w,\n/static/74b7c358a8ba07f2cbb9d537afaa7be0/a7675/4.png 384w,\n/static/74b7c358a8ba07f2cbb9d537afaa7be0/7c2ef/4.png 400w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">...</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Datapoint</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> cx<span class=\"token punctuation\">,</span> cy<span class=\"token punctuation\">,</span> r<span class=\"token punctuation\">,</span> index <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>degrees<span class=\"token punctuation\">,</span> setDegrees<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token function\">getRandomData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> height <span class=\"token operator\">=</span> r\n  <span class=\"token keyword\">const</span> width <span class=\"token operator\">=</span> r\n  <span class=\"token keyword\">const</span> xScale <span class=\"token operator\">=</span> <span class=\"token constant\">D3</span><span class=\"token punctuation\">.</span><span class=\"token function\">scaleLinear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">domain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> yScale <span class=\"token operator\">=</span> <span class=\"token constant\">D3</span><span class=\"token punctuation\">.</span><span class=\"token function\">scaleLinear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">domain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>height<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cx<span class=\"token punctuation\">,</span> cy<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token constant\">D3</span><span class=\"token punctuation\">.</span><span class=\"token function\">selection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">transition</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">spinner-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cx<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cy<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">tween</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"spinning\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> interpolate <span class=\"token operator\">=</span> <span class=\"token constant\">D3</span><span class=\"token punctuation\">.</span><span class=\"token function\">interpolate</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">360</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> <span class=\"token parameter\">t</span> <span class=\"token operator\">=></span> <span class=\"token function\">setDegrees</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span><span class=\"token function\">interpolate</span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">duration</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">ease</span><span class=\"token punctuation\">(</span><span class=\"token constant\">D3</span><span class=\"token punctuation\">.</span>easeBounceOut<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">500</span> <span class=\"token operator\">*</span> index<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">...</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACmElEQVQ4y21UaZOaUBDk//+Vzdfsh70Sk92UVlbXUtYrlq7igQieyI2T6UEUkVf1SpB5PT3dM0+Jo4jWmw05jkNYx+NRdvqc/F6esXzPo5DPZWPSpUT84XA40H6/vwLMgma367qkLxa03W5vCJwBt9vdFWC68tlBVdMmNJvNJD4MwxtQJQwDWq/XNJ/PhWlR2Ui6Y4A4jmm1WtFoPBaGeXZ4FoYA63Q6ZFnWTVb8p2kazTjGtm35tmbQtCIsnPFYV2EYxxH1ej3q9/sUZT4AbMNmjZlNp9slXdfFuChnBsBQoWEYUoGCD8j2+dkSgGww2A2HQwbVpEwYkpcEZwYcs9vtyPd9Unzfo8l0yiz/McDqChCMkRnsoNmC3c1KguVxElVVBePkcij6jUYjyZD2I9gYy6VIgJLMpSnugkm60MN4r1arVC5XEsDjMRbRoSNcjqJYgGEUmCFRlzVEBZvTAFxYxlR9/0vPzy/n89I26EMAuG5iCISfTCYCVCqVqNlsCkNoGQQJWHwqufWp0t3dNxoMBpJMgTMoL22Js34sRb1ep/dqjb6+RsLO44R5l1G22mjQB8eCcdLYHLzPAKbBwal0ZIc5adKi1kk7RBjauVnOM4W7METX51K6aZqFcyyTkoxeAcNMsMGAANWZLQZgye7DuKLLRCbFdZ0rDfNBqAJg7Xab3t7+CEOUmWcnDKVkBsvOZn4h4UetRr9+v5LKjmN6UjC0iuf5l+vrbMreFrGROdmBvNucCMxefvyk7/f3MhVgGwTJLQVw9CvOIF5m2XEOtGAX4aRlmTRnA0zTEoeNhU4Pjw/Sj5VKmR6fnmjKYwZdG9wu2Jo2Jo371rKWpBRepjmnbZsvj1ZLLguUGJ/LtcX9VH/I9x/X2AHApviABQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Inner scatterplot animation\"\n        title=\"Inner scatterplot animation\"\n        src=\"/static/74b7c358a8ba07f2cbb9d537afaa7be0/7c2ef/4.png\"\n        srcset=\"/static/74b7c358a8ba07f2cbb9d537afaa7be0/942f4/4.png 192w,\n/static/74b7c358a8ba07f2cbb9d537afaa7be0/a7675/4.png 384w,\n/static/74b7c358a8ba07f2cbb9d537afaa7be0/7c2ef/4.png 400w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n    </span></p>","frontmatter":{"title":"Data Visualization in React Using Gatsby","date":"August 27, 2019"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/data-visualization-in-react-using-gatsby/","previous":{"fields":{"slug":"/gatsby-mdx-intro/"},"frontmatter":{"title":"Intro to MDX in Gatsby"}},"next":{"fields":{"slug":"/learnwhileyoupoop-notes/"},"frontmatter":{"title":"Learn while you poop"}}}}}